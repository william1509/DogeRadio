<div id="container">
    <div id="search-bar">
        <mat-form-field color="primary">
            <input id="input" matInput placeholder="Enter a song" (keypress)="VerifyInput($event)" [(ngModel)]="keyword">
        </mat-form-field>
        <button mat-button id="go-button" (click)="ButtonClicked()">Go</button>
    </div>
    <ul id="songs-container">
        <li class="list-item" fxLayout="row" fxLayoutAlign="space-between center" *ngFor="let song of this.musicGetterService.songs">
            <div class="song-container" >
                <button (click)="SongClicked(song)" class="song-button">
                    <p>{{song.title}}</p>
                    <img src={{song.thumbnails[0].url}} alt="thumbnail">
                    <p id="views-label">{{song.viewCount.text}}</p>
                    <p id="views-label">{{song.duration}} min</p>
                </button>
                <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="20px">
                    <button mat-button id="add-playlist-button" (click)="ToggleShowPlaylist(song)">
                        Add to playlist
                    </button>
                    
                    <mat-select placeholder="Choose a playlist" [(ngModel)]="selectedValue" name="food" *ngIf="showPlaylist[musicGetterService.songs.indexOf(song)]" fxFlex="30" >
                        <mat-option *ngFor="let playlist of musicGetterService.playlists" [value]="playlist.playlist_title" (click)="PlaylistClicked(playlist, song)">
                          {{playlist.playlist_title}}
                        </mat-option>
                    </mat-select>
                    <button mat-button id="add-playlist-button" (click)="AddToQueue(song)">
                        Add to queue
                    </button>
                </div>
            </div>
            <mat-spinner *ngIf="showPlaylist[musicGetterService.songs.indexOf(song)]" mode="indeterminate"></mat-spinner>
        </li>
    </ul>
</div>
